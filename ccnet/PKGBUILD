
pkgname=ccnet
pkgver=4.4.2
pkgrel=1
pkgdesc="Ccnet is a framework for writing networked applications in C."
arch=('x86_64')
url="https://github.com/haiwen/ccnet/"
license=('GPLv3')
depends=('libsearpc' 'libzdb' 'libevent')
makedepends=('vala' 'python2')
source=("https://github.com/haiwen/ccnet/archive/v${pkgver}.tar.gz")
md5sums=('912fdffbcbbbadf31ccf5bf59ed8f36e')

prepare() {
  export PREFIX=${pkgdir}/usr
  export PKG_CONFIG_PATH=$PREFIX/lib/pkgconfig
}
build() {
  cd ${srcdir}/${pkgname}-${pkgver}

  ./autogen.sh
  ./configure --prefix=/usr
  make
}

package() {
  cd ${srcdir}/${pkgname}-${pkgver}

  make DESTDIR=${pkgdir} install
}
