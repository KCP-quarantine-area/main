
pkgname=phonon-backend-gstreamer
_pkgname=phonon-gstreamer
pkgver=4.9.0
pkgrel=1
pkgdesc="Phonon GStreamer backend"
arch=('x86_64')
url='http://phonon.kde.org'
license=('LGPL')
depends=('gst-plugins-base')
makedepends=('pkg-config' 'cmake' 'automoc4' 'mesa' 'phonon')
provides=('phonon-backend')
source=("http://download.kde.org/stable/phonon/phonon-backend-gstreamer/${pkgver}/${pkgname}-${pkgver}.tar.xz")
#source=("git://anongit.kde.org/phonon-gstreamer#branch=1.0-porting-for-merge")
md5sums=('b2b0ca327908948ce8cdba117e31bf80')

build() { 
	mkdir -p build
	cd build
	
	cmake ../${_pkgname}-${pkgver} \
		 -DCMAKE_BUILD_TYPE=Release \
		 -DCMAKE_INSTALL_PREFIX=/usr \
		 -DCMAKE_INSTALL_LIBDIR=lib \
		 
	make
}

package() {
	cd build
	make DESTDIR=${pkgdir} install
	# Qt 5 is default, keep conflicting files in phonon-qt5
	rm -rf ${pkgdir}/usr/share/icons
}
