
pkgname=libaccounts-glib
pkgver=1.18
_pkgver=02d16e507449f39e094f4babc231d232eeb70737
pkgrel=2
pkgdesc="Glib-based client library for accessing the online accounts database"
arch=('x86_64')
url="https://gitlab.com/groups/accounts-sso"
license=('LGPL')
depends=('dbus-glib' 'libxml2' 'sqlite')
makedepends=('python2-gobject' 'docbook-xsl' 'gtk-doc')
options=('!libtool')
# check source https://groups.google.com/forum/#!forum/accounts-sso-announce
# latest tars https://drive.google.com/#folders/0B8fX9XOwH_g4alFsYV8tZTI4VjQ
#source=("http://sourceforge.net/projects/kaosx/files/sources/libaccounts-glib/$pkgname-$pkgver.tar.gz")
source=("https://gitlab.com/accounts-sso/libaccounts-glib/repository/archive.tar.bz2?ref=$_pkgver")
md5sums=('c1710e3ba6a6f63327221b6c11229ec0')

build() {
  cd $pkgname-$_pkgver-$_pkgver
  
  ./autogen.sh
  HAVE_GCOV_FALSE='#' ./configure \
    --prefix=/usr \
    --disable-static \
    --disable-gtk-doc
  make
}

package() {
  cd $pkgname-$_pkgver-$_pkgver
  
  make DESTDIR="$pkgdir" install
}
