
pkgname=python2-dateutil
pkgver=2.1
pkgrel=1
pkgdesc="Provides powerful extensions to the standard datetime module"
arch=('x86_64')
license=('custom:PYTHON')
url="http://labix.org/python-dateutil"
depends=('python2' 'python2-six')
makedepends=('python2-distribute' )
source=("http://pypi.python.org/packages/source/p/python-dateutil/python-dateutil-$pkgver.tar.gz"
        'python-dateutil-2.1-open-utf-8.patch')
md5sums=('1534bb15cf311f07afaa3aacba1c028b'
         '4b780c62fc03be161629ee08e35eba6a')

build() {
  cd python-dateutil-$pkgver
  patch -p0 -i $srcdir/python-dateutil-2.1-open-utf-8.patch
}

check() {
  cd $srcdir/python-dateutil-$pkgver
  
  python2 test.py
}

package() {
  cd $srcdir/python-dateutil-$pkgver
  python2 setup.py install --root=$pkgdir --optimize=1
  install -Dm644 LICENSE $pkgdir/usr/share/licenses/$pkgname/LICENSE

  chmod -R a+r $pkgdir/usr/lib/python2.7/
  rm $pkgdir/usr/lib/python2.7/site-packages/dateutil/zoneinfo/zoneinfo--latest.tar.gz
}

  